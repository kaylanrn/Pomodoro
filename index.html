<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Tomato Timer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="bg-cream text-brown antialiased">
    <!-- Header -->
    <header
      class="flex items-center justify-between px-8 py-3 border-b border-brown/30"
    >
      <div class="flex items-center gap-3 ml-8">
        <img
          src="assets/studying2.png"
          alt="tomato logo"
          class="w-12 h-12 -mt-1"
        />
        <h1
          class="text-5xl font-bold tracking-wide text-[#f35846]"
          style="font-family: 'Pixelify Sans', sans-serif"
        >
          Tomato Timer
        </h1>
      </div>
      <div class="flex gap-3">
        <button
          id="pomodoroBtn"
          class="px-4 py-1.5 border-2 border-[#7b5635] text-[#7b5635] rounded-lg hover:bg-[#7b5635] hover:text-[#fdf7f2] transition font-medium text-sm"
        >
          What is Pomodoro?
        </button>
        <button
          id="feedbackBtn"
          class="flex items-center gap-1 px-3 py-1.5 border-2 border-[#7b5635] text-[#7b5635] rounded-lg hover:bg-[#7b5635] hover:text-[#fdf7f2] transition font-medium text-sm"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-4 h-4"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M8 10h8m-8 4h6m2 8l4-4V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2h10z"
            />
          </svg>
        </button>
      </div>
    </header>

    <!-- Pomodoro Info Modal -->
    <div
      id="pomodoroModal"
      class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden"
    >
      <div class="bg-white rounded-lg shadow-lg max-w-3xl w-full p-4 relative">
        <button
          id="closeModal"
          class="absolute top-1 right-1 text-black-500 hover:text-gray-700 text-4xl"
        >
          &times;
        </button>
        <img
          src="assets/Pomodoro Technique.svg"
          alt="Pomodoro Technique"
          class="rounded-lg w-full"
        />
      </div>
    </div>

    <!-- Feedback Modal -->
    <div
      id="feedbackModal"
      class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden"
    >
      <div class="bg-cream p-8 rounded-lg shadow-lg w-96 relative">
        <button
          id="closeFeedbackModal"
          class="absolute top-3 right-3 text-brown text-2xl hover:text-[#a36b55] transition"
        >
          √ó
        </button>

        <h2 class="text-2xl font-semibold text-brown text-center mb-4">
          Send Feedback üçÖ
        </h2>

        <form
          id="feedbackForm"
          action="https://formspree.io/f/movpgzyg"
          method="POST"
          class="flex flex-col gap-3"
        >
          <input type="hidden" name="_subject" value="Tomato Timer" />

          <input
            type="text"
            name="name"
            placeholder="Your name"
            class="p-2 border rounded focus:ring-2 focus:ring-[#7b5635] outline-none"
            required
          />

          <textarea
            name="message"
            rows="4"
            placeholder="Write your feedback..."
            class="p-2 border rounded focus:ring-2 focus:ring-[#7b5635] outline-none"
            required
          ></textarea>

          <button
            type="submit"
            class="bg-[#7b5635] text-[#fdf7f2] py-2 rounded-lg hover:bg-[#5c3e2a] transition font-medium"
          >
            Send Feedback
          </button>
        </form>
      </div>
    </div>

    <!-- Thank You Modal -->
    <div
      id="thankYouModal"
      class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden"
    >
      <div class="bg-cream p-8 rounded-lg shadow-lg w-80 text-center relative">
        <h2 class="text-3xl font-semibold text-brown mb-6">
          Thank you for your feedback! ‚ù§Ô∏è
        </h2>

        <button
          id="closeThankYouModal"
          class="absolute bottom-5 left-1/2 transform -translate-x-1/2 px-4 py-1.5 bg-[#7b5635] text-[#fdf7f2] rounded-lg hover:bg-[#5c3e2a] transition text-sm font-medium"
        >
          Close
        </button>
      </div>
    </div>

    <!-- Main Content -->
    <main class="grid grid-cols-12 gap-8 p-5">
      <!-- LEFT SIDEBAR - MODE -->
      <aside class="col-span-3 flex flex-col gap-2 text-center gap-4">
        <div>
          <button
            id="customTimerBtn"
            class="w-80 py-3 mt-4 rounded-lg bg-[#7b5635] text-cream hover:bg-[#9e7253] hover:text-cream transition font-semibold shadow"
          >
            Custom Timer
          </button>
        </div>

        <div></div>

        <div class="space-y-3">
          <button
            data-type="Pomodoro"
            class="presetBtn w-80 py-3 border-2 border-[#7b5635] text-[#7b5635] rounded-lg hover:bg-[#7b5635] hover:text-[#fdf7f2] transition font-semibold shadow"
          >
            Pomodoro
          </button>
          <button
            data-type="Short Break"
            class="presetBtn w-80 py-3 border-2 border-[#7b5635] text-[#7b5635] rounded-lg hover:bg-[#7b5635] hover:text-[#fdf7f2] transition font-semibold shadow"
          >
            Short Break
          </button>
          <button
            data-type="Long Break"
            class="presetBtn w-80 py-3 border-2 border-[#7b5635] text-[#7b5635] rounded-lg hover:bg-[#7b5635] hover:text-[#fdf7f2] transition font-semibold shadow"
          >
            Long Break
          </button>
        </div>

        <div class="customImage text-center">
          <img
            src="assets/studying3.png"
            alt="tomato big"
            class="w-fit mx-auto"
          />
        </div>
      </aside>

      <!-- Custom Timer Modal -->
      <div
        id="customModal"
        class="fixed inset-0 bg-black/50 hidden z-50 flex items-center justify-center"
      >
        >
        <div class="bg-white rounded-2xl p-8 w-96 relative shadow-lg">
          <h2 class="text-xl font-bold mb-4 text-center text-brown">
            Custom Timer Settings
          </h2>

          <div class="flex flex-col gap-4">
            <label class="flex justify-between items-center">
              <span>Pomodoro (minutes)</span>
              <input
                id="pomodoroInput"
                type="number"
                min="1"
                class="border rounded px-2 py-1 w-20"
                value="25"
              />
            </label>

            <label class="flex justify-between items-center">
              <span>Short Break (minutes)</span>
              <input
                id="shortBreakInput"
                type="number"
                min="1"
                class="border rounded px-2 py-1 w-20"
                value="5"
              />
            </label>

            <label class="flex justify-between items-center">
              <span>Long Break (minutes)</span>
              <input
                id="longBreakInput"
                type="number"
                min="1"
                class="border rounded px-2 py-1 w-20"
                value="15"
              />
            </label>
          </div>

          <div class="flex justify-end mt-6 gap-4">
            <button
              id="closeCustomModal"
              class="px-4 py-2 rounded-lg bg-gray-300 hover:bg-gray-400 transition"
            >
              Cancel
            </button>
            <button
              id="saveCustomTimer"
              class="px-4 py-2 rounded-lg bg-[#7b5635] text-cream hover:bg-[#9e7253] transition"
            >
              Save
            </button>
          </div>
        </div>
      </div>

      <!-- CENTER: TIMER -->
      <section
        class="col-span-6 bg-white rounded-3xl p-12 flex flex-col items-center shadow-lg"
      >
        <h2
          id="timerTitle"
          class="text-brown font-bold text-2xl tracking-wider"
        >
          FOCUS TIME
        </h2>

        <div class="relative mt-6 w-96 h-96 flex items-center justify-center">
          <svg class="absolute w-full h-full -rotate-90" viewBox="0 0 140 140">
            <circle
              cx="70"
              cy="70"
              r="60"
              stroke="#d9d9d9"
              stroke-width="12"
              fill="none"
            ></circle>
            <circle
              id="progressCircle"
              cx="70"
              cy="70"
              r="60"
              stroke="#7a5a44"
              stroke-width="12"
              fill="none"
              stroke-linecap="round"
              stroke-dasharray="377"
              stroke-dashoffset="0"
              class="transition-all duration-300 ease-linear"
            />
          </svg>
          <div
            class="absolute text-7xl font-extrabold"
            style="font-family: Roboto"
            id="timeLabel"
          >
            25:00
          </div>
        </div>

        <!-- Controls -->
        <div class="mt-10 flex items-center gap-10">
          <!-- Restart -->
          <button
            id="restart"
            class="controlBtn rounded-full w-20 h-20 flex items-center justify-center transition-all duration-200 hover:border-var-accent hover:shadow-lg"
            style="border: 2px solid var(--brown)"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-10 h-10"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path
                d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.2-.38 2.31-1.03 3.22l1.45 1.45C19.07 15.01 20 13.11 20 11c0-4.42-3.58-8-8-8zm-6.41 2.59L4.14 7.03C2.93 8.54 2 10.46 2 13c0 4.42 3.58 8 8 8v3l4-4-4-4v3c-3.31 0-6-2.69-6-6 0-1.2.38-2.31 1.03-3.22z"
              />
            </svg>
          </button>

          <!-- Play / Pause -->
          <button
            id="playPause"
            class="controlBtn rounded-full w-20 h-20 flex items-center justify-center transition-all duration-200 hover:border-var-accent hover:shadow-lg"
            style="border: 2px solid var(--brown)"
          >
            <svg
              id="playIcon"
              xmlns="http://www.w3.org/2000/svg"
              class="w-12 h-12"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path d="M5 3v18l15-9z" />
            </svg>
            <svg
              id="pauseIcon"
              xmlns="http://www.w3.org/2000/svg"
              class="w-12 h-12 hidden"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
            </svg>
          </button>
        </div>
      </section>

      <!-- RIGHT: TO DO LIST / MUSIC -->
      <aside class="col-span-3 flex flex-col gap-6">
        <!-- To do list -->
        <div
          class="bg-cream/90 rounded-lg p-4 border border-brown/30 flex flex-col"
        >
          <h3 class="text-center tracking-wider text-brown font-semibold">
            TO DO LIST
          </h3>
          <hr class="my-3 border-brown/30" />

          <div class="flex gap-2 mb-3">
            <input
              id="todoInput"
              type="text"
              placeholder="Add..."
              class="flex-1 p-2 border rounded"
            />
            <button id="addTodo" class="px-3 py-2 rounded bg-brown text-cream">
              +
            </button>
          </div>

          <ul
            id="todoList"
            class="overflow-y-auto px-2 h-[16rem] space-y-2"
          ></ul>
        </div>

        <!-- Music box -->
        <div
          class="bg-cream/90 rounded-lg p-4 border border-brown/30 flex flex-col"
        >
          <h3 class="text-center tracking-wider text-brown font-semibold">
            MUSIC
          </h3>

          <!-- Wrapper for playlist + lofi -->
          <div class="relative">
            <!-- PLAYLIST BOX -->
            <div id="playlistBox" class="musicBox flex gap-4 mt-2">
              <div
                id="vinyl"
                class="relative w-28 h-28 rounded-full bg-black flex items-center justify-center"
                style="box-shadow: inset 0 0 6px #333"
              >
                <img
                  src="assets/studying1.png"
                  alt="Tomato"
                  class="w-12 h-12 rounded-full bg-red-600 border-2 border-white object-cover"
                />

                <div
                  class="absolute inset-0 rounded-full ring-vinyl"
                  aria-hidden="true"
                ></div>
              </div>

              <div class="flex-1 flex flex-col">
                <select
                  id="trackSelect"
                  class="w-full p-1 border rounded"
                ></select>

                <div class="mt-3 flex items-center justify-center gap-4">
                  <button id="musicPrev" class="w-9 h-9 controlSmall">
                    ‚óÄ‚óÄ
                  </button>
                  <button id="musicPlay" class="w-9 h-9 controlSmall">‚ñ∂</button>
                  <button id="musicPause" class="w-9 h-9 controlSmall hidden">
                    ‚ñÆ‚ñÆ
                  </button>
                  <button id="musicNext" class="w-9 h-9 controlSmall">
                    ‚ñ∂‚ñ∂
                  </button>
                </div>

                <input
                  id="musicSeek"
                  type="range"
                  min="0"
                  max="100"
                  value="0"
                  class="w-full mt-2"
                />
                <div id="musicTime" class="text-xs text-brown/60 ml-auto">
                  0:00:00
                </div>
              </div>
            </div>

            <!-- LOFI BOX -->
            <div id="lofiBox" class="hidden">
              <div class="w-full flex flex-col items-center">
                <div class="w-full h-50 rounded-xl overflow-hidden shadow">
                  <iframe
                    id="lofiFrame"
                    width="100%"
                    height="100%"
                    style="border-radius: 12px"
                    src="https://www.youtube.com/embed/jfKfPfyJRdk?enablejsapi=1"
                    title="lofi hip hop radio - beats to relax/study to"
                    frameborder="0"
                    allow="autoplay; clipboard-write; encrypted-media; picture-in-picture"
                    allowfullscreen
                  ></iframe>
                </div>
              </div>
            </div>
          </div>

          <h3
            id="lofiToggle"
            class="mt-2 w-fit text-sm tracking-wider text-brown cursor-pointer transition duration-200 hover:text-[#f35846] ml-auto"
          >
            Study with Lofi?
          </h3>

          <audio id="audioPlayer" crossorigin="anonymous"></audio>
        </div>
      </aside>
      <!-- Timer Modal -->
      <div
        id="timerModal"
        class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden"
      >
        <div
          class="relative bg-cream p-10 rounded-lg shadow-lg w-80 text-center flex flex-col items-center"
        >
          <button
            id="closeTimerModal"
            class="absolute top-3 right-3 text-brown text-2xl hover:text-[#f35846] transition"
          >
            ‚úñ
          </button>

          <h2
            id="timerModalMessage"
            class="text-4xl font-bold text-brown mt-8 leading-snug"
          >
            Time's up!
          </h2>

          <img
            id="pomodoroGif"
            src="https://media.baamboozle.com/uploads/images/278920/1621972775_43281_gif-url.gif"
            alt="Pomodoro finished"
            class="mx-auto rounded-lg hidden w-40 h-40 mt-4 object-cover"
          />

          <img
            id="breakGif"
            src="https://substackcdn.com/image/fetch/$s_!zKi4!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fbc0d3ede-4683-43ac-8451-1a32ac5b2dc2_498x442.gif"
            alt="Break time"
            class="mx-auto rounded-lg hidden w-40 h-40 object-cover"
          />
        </div>
      </div>
    </main>

    <script src="script.js"></script>
  </body>
</html>
